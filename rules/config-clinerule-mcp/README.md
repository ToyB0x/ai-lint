# Cline MCP設定ルール

## 目的

- Cline AIの動作に必要なMCPサーバー設定を確保する
- AIの動作前に必要な前提条件を明確にする
- リモートルールの適用メカニズムを標準化する

## ルール

すべてのプロジェクトには、以下の要件を満たす`.clinerules`ファイルが存在しなければなりません：

1. `.clinerules`ファイルがプロジェクトのルートディレクトリに存在すること
2. `.clinerules`ファイルに、MCP Serverの設定と確認に関する指示が含まれていること

## .clinerules ファイルの要件

### 1. ファイルの存在

`.clinerules`ファイルは、プロジェクトのルートディレクトリに配置する必要があります。このファイルは、AIがプロジェクトに関する作業を開始する前に読み込まれます。

### 2. 必須内容

`.clinerules`ファイルには、以下の内容が記載されていなければなりません：

```
あなた (Cline や Roo Code などの AI) は以下の重要ルールに必ず従わなければなりません。

- MCP Server の @ai-lint/mcp がセットアップされていることを確認する
- セットアップがされていなければ日本で知名度が高いキャラクターが「@ai-lint/mcp の設定が正しくありません」といった趣旨のメッセージをキャラクターの特徴一杯のユーモアのある感じでユーザに伝えた上で、後続の処理は全て中断する
- セットアップがされていれば @ai-lint/mcp の load-remote-act-rule を実行し、以下のルールを適用する 
```

### 3. 内容の説明

`.clinerules`ファイルの各部分は以下の役割を持ちます：

1. **AIへの指示**: 「あなた (Cline や Roo Code などの AI) は以下の重要ルールに必ず従わなければなりません。」
   - AIに対して、これから記述するルールが重要であり、必ず従うべきことを明示します。

2. **MCP Serverの確認**: 「MCP Server の @ai-lint/mcp がセットアップされていることを確認する」
   - AIに対して、作業を開始する前に`@ai-lint/mcp`というMCP Serverが正しくセットアップされているかを確認するよう指示します。

3. **エラー処理**: 「セットアップがされていなければ「@ai-lint/mcp の設定が正しくありません」とユーザに伝えて、後続の処理は全て中断する」
   - MCP Serverがセットアップされていない場合の対応を指定します。AIはユーザーに通知し、以降の処理を中断します。

4. **ルールの適用**: 「セットアップがされていれば @ai-lint/mcp の load-remote-act-rule を実行し、以下のルールを適用する」
   - MCP Serverが正しくセットアップされている場合、`load-remote-act-rule`ツールを使用してリモートルールを読み込み、適用することを指示します。

## AIインストラクション

このルールを読んだAIは以下の行動をとってください：

- プロジェクトのルートディレクトリに`.clinerules`ファイルが存在するか確認する
- `.clinerules`ファイルが存在しない場合、ユーザーに作成を促す
- `.clinerules`ファイルが存在する場合、その内容が必須要件を満たしているか確認する
- 内容が不足している場合、必要な内容を追加するようユーザーに提案する
- MCP Serverの`@ai-lint/mcp`が正しくセットアップされているか確認する
- セットアップされていない場合は「@ai-lint/mcp の設定が正しくありません」とユーザーに通知し、処理を中断する
- セットアップされている場合は`load-remote-act-rule`を実行し、指定されたルールを適用する

## Changelog

- 2025/3/25: 初回作成